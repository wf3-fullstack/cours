## COURS MERCREDI 27/11


### DELETE

    ON A CREE UNE FONCTION QUI PERMET DE SUPPRIMER UNE LIGNE 
    DANS N'IMPORTE QUELLE TABLE SQL

### UPDATE

    ON A CREE UN FORMULAIRE UPDATE 
    POUR MODIFIER CHAQUE COLONNE DE LA TABLE SQL recettes


### TEMPLATE DE PAGE AVEC REQUETE EN GET

    ON PEUT UTILISER UN SEUL FICHIER PHP AVEC DES PARAMETRES GET
    => CELA PERMET DE CREER PLEIN DE PAGES DYNAMIQUES
    => ON PEUT CREER DES SITES AVEC DES MILLIONS DE PAGES
    => ON DOIT SEULEMENT CREER UN TEMPLATE PHP

### PAGINATION

    LIMIT DONNE LA QUANTITE DE LIGNES DESIREE (AU MAXIMUM)
    OFSSET DONNE L'INDICE DU PREMIER (EN PARTANT A INDICE=0)

    https://sql.sh/cours/limit

    SELECT *
    FROM recettes
    WHERE typeRecette = 'oriental'
    ORDER By datePublication DESC
    LIMIT 10 OFFSET 2


    -- VERSION COMPACTE
    SELECT *
    FROM recettes
    WHERE typeRecette = 'oriental'
    ORDER By datePublication DESC
    LIMIT 2, 10
    -- ATTENTION 2 EST OFFSET ET 10 EST LIMIT

    [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15 ]


    SI ON A 213 RECETTES
    ET QU'ON VEUT 20 RECETTES PAR PAGE

    1ERE PAGE => LIMIT 20 OFFSET 0
    2E   PAGE => LIMIT 20 OFFSET 20
    3E   PAGE => LIMUT 20 OFFSET 40

    NB PAGES EN TOUT => 11 PAGES


## AFFICHAGE DES ERREURS SQL DANS PHP

https://www.php.net/manual/fr/pdo.error-handling.php

    $dbh        = new PDO($dsn, $user, $password);

    // PARAMETRER PDO POUR LES ERREURS
    // https://www.php.net/manual/fr/pdo.error-handling.php
    $dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING);
    // => LES ERREURS SQL SERONT REMONTEES VERS PHP
    // ET SERONT AFFICHEES COMME DES ERREURS PHP (RECTANGLE ORANGE...)

